@model SpendingManagement.Domain.Entities.Expense

@{
    ViewBag.Title = "Administracja: edycja";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="p-sm-3">
    <div class="panel-heading">
        <h3>Edycja @Model.Name</h3> 
    </div>
    <div>
        @using (Html.BeginForm("Edit","Admin"))
        {
            <div class="panel-body">
                @Html.HiddenFor(m=> m.ExpenseID)
                @foreach(var property in ViewData.ModelMetadata.Properties)
                {
                    if(property.PropertyName != "ExpenseID")
                    {
                        <div class="form-group">
                            <p>@(property.DisplayName ?? property.PropertyName)</p>
                            @if(property.PropertyName == "Description" )
                            {
                                @Html.TextArea(property.PropertyName, null, new { @class = "form-control", rows=4})
                            }
                            else if(property.PropertyName != "Date")
                            {
                                @Html.TextArea(property.PropertyName,null,new { @class = "form-control", rows = 1 })
                            }
                            else
                            {
                                @Html.TextBox(property.PropertyName, null, new { @class ="form-control", type = "date" })
                            }
                            @Html.ValidationMessage(property.PropertyName)
                        </div>
                    }
                }
            </div>
            <div class="panel-footer">
                <input type="submit" value="Zapisz" class="btn btn-light"/>
                <a href="javascript:history.back()" class="btn btn-light">Anuluj i powróć</a>
            </div>
        }
    </div>
</div>